<?xml version="1.0" encoding="utf-8"?>
<Patch>
  <!-- Make plants not sowable -->
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Plant_Corn"]/plant/sowTags</xpath>
    <value>
      <sowTags />
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Plant_Rice"]/plant/sowTags</xpath>
    <value>
      <sowTags />
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Plant_TreeCocoa"]/plant/sowTags</xpath>
    <value>
      <sowTags Inherit="False" />
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Plant_Devilstrand"]/plant/sowTags</xpath>
    <value>
      <sowTags />
    </value>
  </Operation>

  <!-- Remove research prerequisites for Devilstrand and Cocoa so they don't cause errors in console -->
  <Operation Class="PatchOperationRemove">
    <xpath>Defs/ThingDef[defName="Plant_Devilstrand"]/plant/sowResearchPrerequisites</xpath>
  </Operation>
  <Operation Class="PatchOperationRemove">
    <xpath>Defs/ThingDef[defName="Plant_TreeCocoa"]/plant/sowResearchPrerequisites</xpath>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Plant_Psychoid"]/plant/sowTags</xpath>
    <value>
      <sowTags />
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Plant_Strawberry"]/plant/sowTags</xpath>
    <value>
      <sowTags />
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Plant_Tinctoria"]/plant/sowTags</xpath>
    <value>
      <sowTags />
    </value>
  </Operation>

  <!-- Make Toxipotato not sowable (Biotech DLC) -->
  <Operation Class="PatchOperationAdd" MayRequire="Ludeon.RimWorld.Biotech">
    <xpath>Defs/ThingDef[defName="Plant_Toxipotato"]/plant</xpath>
    <value>
      <sowTags Inherit="False" />
    </value>
  </Operation>

  <!-- Make Fibercorn not sowable -->
  <Operation Class="PatchOperationReplace" MayRequire="Ludeon.RimWorld.Ideology">
    <xpath>Defs/ThingDef[defName="Plant_Fibercorn"]/plant/sowTags</xpath>
    <value>
      <sowTags Inherit="False" />
    </value>
  </Operation>

  <!-- Remove Corn from all categories -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="RawCorn"]</xpath>
    <value>
      <thingCategories Inherit="False" />
    </value>
  </Operation>

  <!-- Remove Rice from all categories -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="RawRice"]</xpath>
    <value>
      <thingCategories Inherit="False" />
    </value>
  </Operation>

  <!-- Remove Cocoa (Chocolate) from all categories -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="Chocolate"]</xpath>
    <value>
      <thingCategories Inherit="False" />
    </value>
  </Operation>

  <!-- Remove Devilstrand from all categories and as usable stuff -->
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="DevilstrandCloth"]/stuffProps</xpath>
    <value><stuffProps Inherit="False" /></value>
  </Operation>
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="DevilstrandCloth"]</xpath>
    <value>
      <thingCategories Inherit="False" />
    </value>
  </Operation>

  <!-- Remove Psychoid Leaves from all categories -->
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="PsychoidLeaves"]/thingCategories</xpath>
    <value>
      <thingCategories Inherit="False" />
    </value>
  </Operation>

  <!-- Remove Toxipotato from all categories) -->
  <Operation Class="PatchOperationAdd" MayRequire="Ludeon.RimWorld.Biotech">
    <xpath>Defs/ThingDef[defName="RawToxipotato"]</xpath>
    <value>
      <thingCategories Inherit="False" />
    </value>
  </Operation>

  <!-- Remove Chocolate from trader stock generators -->
  <!-- Remove Chocolate from StockGenerator_SingleDef -->
  <Operation Class="PatchOperationRemove">
    <xpath>Defs/TraderKindDef/stockGenerators/li[@Class='StockGenerator_SingleDef' and thingDef='Chocolate']</xpath>
  </Operation>
  
  <!-- Remove Chocolate from StockGenerator_MultiDef thingDefs lists -->
  <Operation Class="PatchOperationRemove">
    <xpath>Defs/TraderKindDef/stockGenerators/li[@Class='StockGenerator_MultiDef']/thingDefs/li[text()='Chocolate']</xpath>
  </Operation>
</Patch>
